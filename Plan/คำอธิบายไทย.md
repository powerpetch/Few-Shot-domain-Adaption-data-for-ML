# р╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕З Caption р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╣р╕Ы Crystallization
## р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Ар╕Ыр╣Зр╕Щр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в

---

## ЁЯУЛ р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Вр╕Фр╕вр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ър╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Ыр╕Щр╕╡р╣Йр╕бр╕╡р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣Мр╣Ар╕Юр╕╖р╣Ир╕н:

1. **р╕кр╕гр╣Йр╕▓р╕З Caption р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤** р╕Ир╕▓р╕Бр╕гр╕╣р╕Ы crystallization р╕Ыр╕гр╕░р╕бр╕▓р╕У 480 р╕ар╕▓р╕Ю
2. **р╕кр╣Ир╕Зр╣Др╕Ы Multi-Modal LLM** (р╣Ар╕Кр╣Ир╕Щ GPT-4V, Claude, Gemini) р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Й AI р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
3. **р╕Бр╕гр╕нр╕Зр╕Ьр╕ер╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ** р╣Бр╕Ър╣Ир╕З caption р╕нр╕нр╕Бр╣Ар╕Ыр╣Зр╕Щ Approve/Revision/Reject
4. **р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е metadata** р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╣Бр╕ер╕░р╣Ар╕Бр╣Зр╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Б

---

## ЁЯОп р╕гр╕░р╕Ър╕Ъ 4 р╣Ар╕Яр╕к Crystallization

### р╣Ар╕Яр╕к 1: Unsaturated (р╕кр╕▓р╕гр╕ер╕░р╕ер╕▓р╕вр╣Ар╕Вр╣Йр╕бр╕Вр╣Йр╕Щ)
- **р╕ар╕▓р╕Юр╕ер╕▒р╕Бр╕йр╕Ур╣М**: р╣Вр╕Ыр╕гр╣Ир╕Зр╣Гр╕к р╣Др╕бр╣Ир╕бр╕╡р╕Ьр╕ер╕╢р╕Б
- **р╕кр╕Цр╕▓р╕Щр╕░**: р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Юр╕╡р╕вр╕Зр╕кр╕▓р╕гр╕ер╕░р╕ер╕▓р╕вр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕бр╕Вр╣Йр╕Щ р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Фр╕Бр╕▓р╕гр╕Хр╕Бр╕Ьр╕ер╕╢р╕Б
- **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З**: р╕Ир╕╕р╕Ф A р╣Гр╕Щр╕Бр╕гр╕▓р╕Я
- **р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╣р╕Ы**: 120 р╕гр╕╣р╕Ы

**Caption р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**:
> "р╕гр╕╣р╕Ыр╣Бр╕кр╕Фр╕Зр╕кр╕ар╕▓р╕зр╕░ unsaturated р╕Вр╕нр╕Зр╕кр╕▓р╕гр╕ер╕░р╕ер╕▓р╕вр╕Щр╣Йр╕│р╕Хр╕▓р╕е р╕Чр╕╡р╣Ир╕бр╕╡р╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕бр╕Вр╣Йр╕Щр╕кр╕╣р╕З р╣Др╕бр╣Ир╕бр╕╡р╕Ьр╕ер╕╢р╕Бр╕Ыр╕гр╕▓р╕Бр╕П р╕гр╕░р╕Ър╕Ър╕Юр╕гр╣Йр╕нр╕бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕гр╕░р╕Ър╕зр╕Щр╕Бр╕▓р╕гр╕ер╕Фр╕Др╕зр╕▓р╕бр╕нр╕┤р╣Ир╕бр╕Хр╕▒р╕з"

---

### р╣Ар╕Яр╕к 2: Labile (р╣Ар╕бр╕ер╣Зр╕Фр╕Юр╕╖р╕Кр╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Бр╕┤р╕Ф)
- **р╕ар╕▓р╕Юр╕ер╕▒р╕Бр╕йр╕Ур╣М**: р╕бр╕╡р╕Ьр╕ер╕╢р╕Бр╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Бр╣Ар╕гр╕┤р╣Ир╕бр╕Ыр╕гр╕▓р╕Бр╕П р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕Хр╣Ир╕│
- **р╕кр╕Цр╕▓р╕Щр╕░**: р╣Ар╕гр╕┤р╣Ир╕бр╕бр╕╡р╕Бр╕▓р╕гр╣Бр╕Хр╕Бр╕Хр╕▒р╕з (nucleation) р╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в
- **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З**: р╕Ыр╕гр╕░р╕бр╕▓р╕Ур╕Ир╕╕р╕Ф B р╣Гр╕Щр╕Бр╕гр╕▓р╕Я
- **р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╣р╕Ы**: 120 р╕гр╕╣р╕Ы

**Caption р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**:
> "р╕гр╕╣р╕Ыр╣Бр╕кр╕Фр╕Зр╣Ар╕Яр╕к labile р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕гр╕┤р╣Ир╕бр╕бр╕╡р╕Бр╕▓р╕гр╣Бр╕Хр╕Бр╕Хр╕▒р╕зр╕Вр╕нр╕Зр╕Ьр╕ер╕╢р╕Б р╕Ьр╕ер╕╢р╕Бр╕лр╕Щр╕╢р╣Ир╕Зр╕бр╕╡р╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Б р╕гр╕░р╕Ър╕Ър╕Бр╕│р╕ер╕▒р╕Зр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Бр╕кр╕▓р╕гр╕ер╕░р╕ер╕▓р╕вр╣Др╕Ыр╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╕Хр╕Бр╕Ьр╕ер╕╢р╕Б"

---

### р╣Ар╕Яр╕к 3: Intermediate (р╕Бр╕▓р╕гр╣Вр╕Хр╕Вр╕нр╕Зр╕Ьр╕ер╕╢р╕Бр╕нр╕вр╕╣р╣Ир╕гр╕░р╕лр╕зр╣Ир╕▓р╕З)
- **р╕ар╕▓р╕Юр╕ер╕▒р╕Бр╕йр╕Ур╣М**: р╕Ьр╕ер╕╢р╕Бр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щр╣Ар╕Ыр╣Зр╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З
- **р╕кр╕Цр╕▓р╕Щр╕░**: р╕Бр╕▓р╕гр╣Вр╕Хр╕Вр╕нр╕Зр╕Ьр╕ер╕╢р╕Бр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╣Др╕Ыр╕нр╕вр╣Ир╕▓р╕Зр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З
- **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З**: р╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Ир╕╕р╕Ф B р╕Цр╕╢р╕З C р╣Гр╕Щр╕Бр╕гр╕▓р╕Я
- **р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╣р╕Ы**: 120 р╕гр╕╣р╕Ы

**Caption р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**:
> "р╕гр╕╣р╕Ыр╣Бр╕кр╕Фр╕Зр╣Ар╕Яр╕к intermediate р╕Вр╕Ур╕░р╕Чр╕╡р╣Ир╕Ьр╕ер╕╢р╕Бр╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕Х р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕Вр╕нр╕Зр╕Ьр╕ер╕╢р╕Бр╕Ыр╕▓р╕Щр╕Бр╕ер╕▓р╕З р╕гр╕░р╕Ър╕Ър╕Бр╕│р╕ер╕▒р╕Зр╕Юр╕▒р╕Тр╕Щр╕▓р╣Др╕Ыр╕кр╕╣р╣Ир╕Бр╕▓р╕гр╕Хр╕Бр╕Ьр╕ер╕╢р╕Бр╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И"

---

### р╣Ар╕Яр╕к 4: Metastable (р╕Ьр╕ер╕╢р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓р╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И)
- **р╕ар╕▓р╕Юр╕ер╕▒р╕Бр╕йр╕Ур╣М**: р╕Ьр╕ер╕╢р╕Бр╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И р╕бр╕╡р╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕кр╕╣р╕З
- **р╕кр╕Цр╕▓р╕Щр╕░**: р╕Ьр╕ер╕╢р╕Бр╕Юр╕▒р╕Тр╕Щр╕▓р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ р╣Ар╕Бр╕╖р╕нр╕Ър╕Цр╕╢р╕Зр╕Ир╕╕р╕Фр╕кр╕бр╕Фр╕╕р╕е
- **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З**: р╕Ир╕╕р╕Ф C р╕Цр╕╢р╕З D р╣Гр╕Щр╕Бр╕гр╕▓р╕Я
- **р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╣р╕Ы**: 120 р╕гр╕╣р╕Ы

**Caption р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З**:
> "р╕гр╕╣р╕Ыр╣Бр╕кр╕Фр╕Зр╣Ар╕Яр╕к metastable р╕Чр╕╡р╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕Хр╕Бр╕Ьр╕ер╕╢р╕Бр╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И р╕Ьр╕ер╕╢р╕Бр╕бр╕╡р╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣Ир╣Бр╕ер╕░р╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕кр╕╣р╕З"

---

## ЁЯУж р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Ы

### р╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕Шр╕┤р╕Ър╕▓р╕в (р╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕й)
- **INDEX.md** - р╕Фр╕▒р╕Кр╕Щр╕╡р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╕нр╣Ир╕▓р╕Щр╕Бр╣Ир╕нр╕Щ!)
- **QUICK_REFERENCE.md** - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕вр╣Ир╕н + р╕Др╕│р╕кр╕▒р╣Ир╕З
- **GETTING_STARTED.md** - р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
- **README.md** - р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Ар╕Хр╣Зр╕б

### р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б Python (р╕Чр╕╡р╣Ир╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й)
1. **run_pipeline.py** - р╣Ар╕бр╕Щр╕╣р╣Бр╕Ър╕Ър╣Ар╕ер╕╖р╕нр╕Б (р╣Гр╕Кр╣Йр╕Зр╣Ир╕▓р╕вр╕кр╕╕р╕Ф)
2. **gen_captions.py** - р╕кр╕гр╣Йр╕▓р╕З caption р╕Ир╕▓р╕Бр╕гр╕╣р╕Ы тЬЕ **р╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з**
3. **prepare_llm.py** - р╣Ар╕Хр╕гр╕╡р╕вр╕б prompt р╕кр╣Ир╕З LLM
4. **filter_llm_res.py** - р╕Бр╕гр╕нр╕Зр╕Др╕│р╕Хр╕нр╕Ър╕Ир╕▓р╕Б LLM
5. **gen_metadata.py** - р╕кр╕гр╣Йр╕▓р╕Зр╕Ър╕▒р╕Нр╕Кр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕е

### р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з тЬЕ
- **all_initial_captions.json** - 480 caption р╕кр╕│р╣Ар╕гр╣Зр╕И!
- **captions/unsaturated_captions.json** - 120 caption
- **captions/labile_captions.json** - 120 caption
- **captions/intermediate_captions.json** - 120 caption
- **captions/metastable_captions.json** - 120 caption
- **generation_statistics.json** - р╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З
- **captioning_summary.txt** - р╕кр╕гр╕╕р╕Ыр╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

---

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ (3 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕лр╕ер╕▒р╕Б)

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕кр╕гр╣Йр╕▓р╕З Caption тЬЕ (р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з)

**р╕Др╕│р╕кр╕▒р╣Ир╕З**:
```bash
cd d:\user\CEIPP\Filter
D:/user/CEIPP/.venv/Scripts/python.exe gen_captions.py
```

**р╕Ьр╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Й**:
- тЬЕ 480 caption р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕│р╣Ар╕гр╣Зр╕И
- тЬЕ р╣Бр╕Ър╣Ир╕Зр╕Хр╕▓р╕бр╣Ар╕Яр╕к 4 р╕Кр╕Щр╕┤р╕Ф (р╕Кр╕Щр╕┤р╕Фр╕ер╕░ 120 р╕ар╕▓р╕Ю)
- тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕Зр╣Др╕Яр╕ер╣М JSON

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Ар╕Бр╕┤р╕Фр╕Вр╕╢р╣Йр╕Щ**:
1. р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕нр╣Ир╕▓р╕Щр╕гр╕╣р╕Ыр╕Чр╕▒р╣Йр╕З 480 р╕ар╕▓р╕Ю
2. р╕Хр╕гр╕зр╕Ир╕лр╕▓р╣Ар╕Яр╕кр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕гр╕╣р╕Ы (unsaturated/labile/intermediate/metastable)
3. р╕кр╕гр╣Йр╕▓р╕З caption р╕Хр╕▓р╕бр╣Ар╕Яр╕кр╕Чр╕╡р╣Ир╕Хр╕гр╕зр╕Ир╕лр╕▓
4. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕ер╕Зр╣Др╕Яр╕ер╣М JSON

---

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╣Ар╕Хр╕гр╕╡р╕вр╕бр╕кр╣Ир╕З LLM (р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│)

**р╕Др╕│р╕кр╕▒р╣Ир╕З**:
```bash
D:/user/CEIPP/.venv/Scripts/python.exe prepare_llm.py
```

**р╕Ьр╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Й**:
- р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `batch_prompts.txt` - р╕Юр╕гр╣Йр╕нр╕бр╕нр╣Ир╕▓р╕Щр╣Бр╕ер╕░р╕кр╣Ир╕Зр╣Гр╕лр╣Й AI
- р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `batch_prompts.json` - р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ъ JSON р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б
- р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М `INSTRUCTIONS.md` - р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕Хр╣Ир╕н**:
1. р╣Ар╕Ыр╕┤р╕Ф `batch_prompts.txt`
2. р╕кр╣Ир╕Зр╣Гр╕лр╣Й Multi-Modal LLM (р╣Ар╕Кр╣Ир╕Щ GPT-4V, Claude Vision, Gemini)
3. LLM р╕Ир╕░р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕ар╕▓р╕Юр╣Бр╕ер╕░р╕Хр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╣Ар╕Юр╕╖р╣Ир╕нр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕зр╣Ир╕▓ caption р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

**р╕Др╕│р╕Цр╕▓р╕бр╕Чр╕╡р╣И LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ**:
1. р╕ар╕▓р╕Юр╕Щр╕╡р╣Йр╣Бр╕кр╕Фр╕Зр╣Ар╕Яр╕кр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И?
2. Caption р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Др╕зр╣Йр╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щр╕лр╕гр╕╖р╕нр╣Др╕бр╣И?
3. р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И?
4. р╣Ар╕лр╣Зр╕Щр╕Ьр╕ер╕╢р╕Бр╣Др╕Фр╣Йр╕Кр╕▒р╕Фр╕лр╕гр╕╖р╕нр╣Др╕бр╣И?
5. р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Яр╕кр╣Др╕лр╕Щр╣Бр╕Щр╣Ир╕Щр╕нр╕Щ?
6. р╣Гр╕лр╣Йр╕Вр╣Йр╕нр╣Ар╕кр╕Щр╕нр╣Бр╕Щр╕░

---

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Бр╕гр╕нр╕Зр╕Ьр╕ер╕Ир╕▓р╕Б LLM (р╕лр╕ер╕▒р╕З LLM р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ)

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╣Ар╕Хр╕гр╕╡р╕вр╕б**:
1. р╕гр╕▒р╕Ър╕Ьр╕ер╕Ир╕▓р╕Б LLM р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ыр╣Бр╕ер╣Йр╕з
2. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕Зр╣Др╕Яр╕ер╣М `llm_verification_logs/llm_responses.json`

**р╕Др╕│р╕кр╕▒р╣Ир╕З**:
```bash
D:/user/CEIPP/.venv/Scripts/python.exe filter_llm_res.py
```

**р╕Ьр╕ер╕Чр╕╡р╣Ир╣Др╕Фр╣Й**:
- **approved_captions.json** - Caption р╕Чр╕╡р╣И LLM р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З тЬЕ **р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ training**
- **revision_needed_captions.json** - Caption р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в
- **rejected_captions.json** - Caption р╕Чр╕╡р╣И LLM р╕Ър╕нр╕Бр╕зр╣Ир╕▓р╕Ьр╕┤р╕Ф р╕Хр╣Йр╕нр╕Зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕лр╕бр╣И
- **filtering_report.txt** - р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╕Ьр╕ер╕Бр╕▓р╕гр╕Бр╕гр╕нр╕З

---

## ЁЯУК р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

### Caption р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Фр╣Й
```json
{
  "image": "1.jpg",
  "material_name": "Physical Sugar (Dense Batch)",
  "phase": "unsaturated",
  "initial_caption": "Image showing unsaturated Physical Sugar (Dense Batch) solution at point A. High concentration, no visible crystal nucleation. System ready for de-supersaturation process.",
  "visual_markers": [
    "Clear/translucent solution",
    "No visible crystals",
    "High concentration"
  ]
}
```

### р╕кр╕Цр╕┤р╕Хр╕┤р╕Чр╕╡р╣Ир╣Др╕Фр╣Й
```
Total Captions: 480
  Unsaturated:  120
  Labile:       120
  Intermediate: 120
  Metastable:   120
```

---

## ЁЯОп р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы (р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╣Ир╕▓р╕Щ)

### р╣Гр╕Щр╕Хр╕нр╕Щр╕Щр╕╡р╣Й
- [x] тЬЕ р╕кр╕гр╣Йр╕▓р╕З caption 480 р╕Хр╕▒р╕з р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з
- [ ] р╕нр╣Ир╕▓р╕Щ `INDEX.md` р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕гр╕░р╕Ър╕Ъ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╣Ир╕нр╣Др╕Ы (р╕Хр╣Ир╕нр╣Ар╕Фр╕╖р╕нр╕Щр╕лр╕Щр╣Йр╕▓?)
1. **р╣Ар╕ер╕╖р╕нр╕Б LLM р╕Чр╕╡р╣Ир╕Ир╕░р╣Гр╕Кр╣Й**
   - GPT-4V (р╣Ар╕кр╕╡р╕вр╣Ар╕Зр╕┤р╕Щ р╣Бр╕Хр╣Ир╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф)
   - Claude Vision (р╣Ар╕кр╕╡р╕вр╣Ар╕Зр╕┤р╕Щ р╣Бр╕Хр╣Ир╕Фр╕╡р╕бр╕▓р╕Бр╣Ар╕Кр╣Ир╕Щр╕Бр╕▒р╕Щ)
   - Gemini (р╣Ар╕кр╕╡р╕вр╣Ар╕Зр╕┤р╕Щр╕лр╕гр╕╖р╕нр╕Яр╕гр╕╡р╕Ър╣Йр╕▓р╕З)
   - LLaVA (р╕Яр╕гр╕╡ р╣Бр╕Хр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕▒р╕Щр╣Ар╕нр╕З)

2. **р╕кр╣Ир╕З batch р╣Гр╕лр╣Й LLM**
   - р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣М `batch_prompts.txt`
   - р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕Чр╕▒р╣Йр╕З 480 р╕ар╕▓р╕Ю
   - р╣Гр╕лр╣Й LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ

3. **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕ер╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ**
   - LLM р╕Ир╕░р╕Хр╕нр╕Ър╕зр╣Ир╕▓ caption р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
   - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕Зр╣Др╕Яр╕ер╣М JSON

4. **р╕гр╕▒р╕Щр╕Хр╕▒р╕з filter**
   - р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕Ир╕░р╕Бр╕гр╕нр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М
   - р╣Др╕Фр╣Й approved_captions.json р╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Й

---

## ЁЯТб р╕Чр╕│р╣Др╕бр╕Хр╣Йр╕нр╕Зр╕кр╣Ир╕З LLM?

**р╕Ыр╕▒р╕Нр╕лр╕▓р╕Вр╕нр╕З Caption р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕З**:
- Caption р╕кр╕гр╣Йр╕▓р╕Зр╕Ир╕▓р╕Б template р╕нр╕▓р╕Ир╣Др╕бр╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│
- р╕Ър╕▓р╕Зр╕гр╕╣р╕Ыр╕нр╕▓р╕Ир╕Ир╕▒р╕Фр╕лр╕бр╕зр╕Фр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▓р╕Ир╣Др╕бр╣Ир╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ

**р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Вр╕нр╕Зр╕Бр╕▓р╕гр╕кр╣Ир╕З LLM**:
- тЬЕ AI р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕╣р╕Ыр╕Ир╕гр╕┤р╕З р╣Ж
- тЬЕ р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕зр╣Ир╕▓ caption р╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕гр╕╣р╕Ы
- тЬЕ р╕Кр╕╡р╣Йр╕Ър╕нр╕Бр╕кр╣Ир╕зр╕Щр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕В
- тЬЕ р╣Гр╕лр╣Йр╕Вр╣Йр╕нр╣Ар╕кр╕Щр╕нр╣Бр╕Щр╕░
- тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕зр╕▓р╕бр╕бр╕▒р╣Ир╕Щр╣Гр╕Ир╣Гр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

---

## ЁЯФН р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

### р╕гр╕╣р╕Ы Unsaturated
```
р╕гр╕╣р╕Ы: 1.jpg
Caption р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З: "Image showing unsaturated Physical Sugar (Dense Batch)..."

LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:
- тЬЕ р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З 95% р╣Бр╕Щр╣Ир╕Щр╕нр╕Щ р╣Ар╕Ыр╣Зр╕Щ unsaturated
- тЬЕ р╣Др╕бр╣Ир╕бр╕╡р╕Ьр╕ер╕╢р╕Бр╕Ыр╕гр╕▓р╕Бр╕П р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕бр╕Вр╣Йр╕Щр╕кр╕╣р╕З р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬУ Approved!

р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М: тЬЕ Caption р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Й
```

### р╕гр╕╣р╕Ы Labile р╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓
```
р╕гр╕╣р╕Ы: 101.jpg
Caption р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З: "Image showing labile phase..."

LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:
- тЬЕ р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З 80% р╣Ар╕Ыр╣Зр╕Щ labile
- тЪая╕П р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╣Др╕Фр╣Йр╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Вр╕Щр╕▓р╕Фр╕Ьр╕ер╕╢р╕Б
- тЪая╕П р╕Др╕зр╕гр╕Юр╕╣р╕Фр╕Цр╕╢р╕Зр╕Бр╕▓р╕гр╣Бр╕Хр╕Бр╕Хр╕▒р╕зр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щр╕Бр╕зр╣Ир╕▓
- тЪая╕П Revision needed!

р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М: тЪая╕П Caption р╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в
```

### р╕гр╕╣р╕Ы Intermediate р╕Чр╕╡р╣Ир╕Ьр╕┤р╕Ф
```
р╕гр╕╣р╕Ы: 201.jpg
Caption р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З: "Image showing intermediate phase..."

LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:
- тЭМ р╕Ьр╕┤р╕Ф! р╕Щр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щ metastable phase
- тЭМ р╕Ьр╕ер╕╢р╕Бр╕бр╕╡р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕вр╕нр╕░р╣Ар╕Бр╕┤р╕Щр╣Др╕Ы
- тЭМ р╕Др╕зр╕▓р╕бр╕лр╕Щр╕▓р╣Бр╕Щр╣Ир╕Щр╕кр╕╣р╕Зр╕бр╕▓р╕Б
- тЬЧ Rejected!

р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М: тЭМ р╕Хр╣Йр╕нр╕Зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕лр╕бр╣И
```

---

## ЁЯУВ р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З

```
Filter/
тФЬтФАтФА р╣Ар╕нр╕Бр╕кр╕▓р╕г (р╣Ар╕Ыр╣Зр╕Щр╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕й)
тФВ   тФЬтФАтФА INDEX.md
тФВ   тФЬтФАтФА QUICK_REFERENCE.md
тФВ   тФЬтФАтФА GETTING_STARTED.md
тФВ   тФЬтФАтФА README.md
тФВ   тФФтФАтФА р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╣Др╕Чр╕в.md тЖР р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Й
тФВ
тФЬтФАтФА р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б Python
тФВ   тФЬтФАтФА run_pipeline.py
тФВ   тФЬтФАтФА gen_captions.py тЬЕ р╕Чр╕│р╣Бр╕ер╣Йр╕з
тФВ   тФЬтФАтФА prepare_llm.py
тФВ   тФЬтФАтФА filter_llm_res.py
тФВ   тФФтФАтФА gen_metadata.py
тФВ
тФЬтФАтФА р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з тЬЕ
тФВ   тФЬтФАтФА all_initial_captions.json (480 caption)
тФВ   тФЬтФАтФА generation_statistics.json
тФВ   тФЬтФАтФА captioning_summary.txt
тФВ   тФФтФАтФА captions/
тФВ       тФЬтФАтФА unsaturated_captions.json (120)
тФВ       тФЬтФАтФА labile_captions.json (120)
тФВ       тФЬтФАтФА intermediate_captions.json (120)
тФВ       тФФтФАтФА metastable_captions.json (120)
тФВ
тФФтФАтФА р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▒р╕Зр╕кр╣Ир╕З LLM
    тФЬтФАтФА llm_verification_logs/
    тФЬтФАтФА approved_captions.json
    тФЬтФАтФА revision_needed_captions.json
    тФЬтФАтФА rejected_captions.json
    тФЬтФАтФА filtering_report.txt
    тФФтФАтФА dataset_metadata.json
```

---

## тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з

| р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ | р╕кр╕Цр╕▓р╕Щр╕░ | р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕ |
|--------|-------|---------|
| р╕кр╕гр╣Йр╕▓р╕З Caption | тЬЕ | 480 р╕Хр╕▒р╕з р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з |
| р╣Ар╕Хр╕гр╕╡р╕вр╕б Batch | тП│ | р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│ |
| р╕кр╣Ир╕З LLM | тП│ | р╕гр╕нр╕Чр╣Ир╕▓р╕Щр╕кр╣Ир╕З |
| р╕гр╕▒р╕Ър╕Ьр╕ер╕Ир╕▓р╕Б LLM | тП│ | р╕гр╕нр╕Ьр╕ер╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ |
| р╕Бр╕гр╕нр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М | тП│ | р╕гр╕нр╕Щр╕│р╣Ар╕Вр╣Йр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕е |

---

## ЁЯУЮ р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕▓р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Д**:
- р╕Фр╕╣ `GETTING_STARTED.md` р╕лр╕▒р╕зр╕Вр╣Йр╕н "Common Issues"
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣Мр╕кр╕Цр╕┤р╕Хр╕┤р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕гр╕░р╕Ър╕Ъ**:
- р╕нр╣Ир╕▓р╕Щ `INDEX.md` р╕Чр╕▒р╣Йр╕Зр╣Др╕Яр╕ер╣М
- р╕Фр╕╣ `README.md` р╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы**:
- р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╣Ар╕бр╕╖р╣Ир╕нр╕Юр╕гр╣Йр╕нр╕бр╕кр╣Ир╕З LLM
- р╕Кр╣Ир╕зр╕вр╣Бр╕Ыр╕ер╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М LLM р╣Ар╕Ыр╣Зр╕Щр╣Др╕Яр╕ер╣М JSON

---

## ЁЯОЙ р╕кр╕гр╕╕р╕Ы

**р╣Др╕Ыр╣Др╕лр╕Щр╕бр╕▓р╣Бр╕ер╣Йр╕з** тЬЕ
- тЬЕ р╕кр╕гр╣Йр╕▓р╕З 480 caption р╕кр╕│р╣Ар╕гр╣Зр╕И
- тЬЕ р╣Бр╕Ър╣Ир╕Зр╕Хр╕▓р╕бр╣Ар╕Яр╕к 4 р╕Кр╕Щр╕┤р╕Ф
- тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕нр╕Шр╕┤р╕Ър╕▓р╕в
- тЬЕ р╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Й

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы**
1. р╣Ар╕ер╕╖р╕нр╕Б LLM (GPT-4V / Claude / Gemini)
2. р╕кр╣Ир╕З `batch_prompts.txt` + р╕гр╕╣р╕Ы
3. LLM р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ
4. р╕гр╕▒р╕Щ filter script
5. р╣Др╕Фр╣Й approved captions р╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Й!

**р╕Ыр╕гр╕░р╕бр╕▓р╕Ур╣Ар╕зр╕ер╕▓**
- р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 1-2: р╕Щр╣Йр╕нр╕вр╕Бр╕зр╣Ир╕▓ 1 р╕Щр╕▓р╕Чр╕╡
- р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 3 (р╕кр╣Ир╕З LLM): 2-4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З (р╕Вр╕╢р╣Йр╕Щр╕нр╕вр╕╣р╣Ир╕Бр╕▒р╕Ъ LLM р╕Чр╕╡р╣Ир╣Ар╕ер╕╖р╕нр╕Б)
- р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ 4: р╕Щр╣Йр╕нр╕вр╕Бр╕зр╣Ир╕▓ 1 р╕Щр╕▓р╕Чр╕╡

---

**р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕бр╕╖р╣Ир╕н**: 18 р╕Шр╕▒р╕Щр╕зр╕▓р╕Др╕б 2568  
**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ**: 1.0  
**р╕кр╕Цр╕▓р╕Щр╕░**: р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ ЁЯЪА
